# PosLite Cloudflared - Horustech + BD only (puertos 9010, 9012, 9014, 9015, 9020, 9021, 5050, 5432)
image:
  repository: cloudflare/cloudflared
  tag: latest
  pullPolicy: IfNotPresent

replicas: 1
hostNetwork: true

config:
  tunnelId: ""
  # Opción 1: contenido JSON del archivo de credenciales (generado con: cloudflared tunnel create <name>).
  # Se crea un Secret en el chart. Para valores sensibles en Fleet usa un Secret externo y deja esto vacío.
  credentials: ""
  # Opción 2: si no usas credentials, pon aquí cualquier valor no vacío y crea tú el Secret
  # <release>-credentials con clave credentials.json (ej: kubectl create secret generic ... --from-file=credentials.json=...)
  credentialsFile: ""
  # Opción 3: ruta en el nodo donde está el .json (ej. /root/.cloudflared). Se monta <credentialsHostPath>/<tunnelId>.json.
  # El pod debe programarse en ese nodo (nodeSelector). Si se define, no uses credentials ni credentialsFile.
  credentialsHostPath: ""
  ingress:
    # Horustech
    - hostname: ""
      service: http://localhost:9010
    - hostname: ""
      service: http://localhost:9012
    - hostname: ""
      service: http://localhost:9014
    - hostname: ""
      service: http://localhost:9015
    - hostname: ""
      service: http://localhost:9020
    - hostname: ""
      service: http://localhost:9021
    # BD (pgadmin)
    - hostname: ""
      service: http://localhost:5050
    # BD (postgres TCP)
    - hostname: ""
      service: tcp://localhost:5432
    - service: http_status:404

resources:
  limits:
    cpu: 200m
    memory: 128Mi
  requests:
    cpu: 100m
    memory: 64Mi

nodeSelector: {}
tolerations: []
affinity: {}
